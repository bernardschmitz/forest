<!DOCTYPE html>
<html>
	<body>

		<canvas id="myCanvas" width="400" height="300" style="border:1px solid #d3d3d3;">
		Your browser does not support the HTML5 canvas tag.</canvas>

		<script>

			var c = document.getElementById("myCanvas");
			var ctx = c.getContext("2d");

			var density = 0.5;
			var radius = 15;

			function overlap(circle, circles) {

				for(var i=0; i<circles.length; i++) {
					var dx = circle[0] - circles[i][0];
					var dy = circle[1] - circles[i][1];
					var r  = circle[2] + circles[i][2];
					var d2 = dx*dx + dy*dy;

					if(d2 < r*r)
						return true;
				}

				return false;
			}

			function generateForest(woodDensity, radius, w, h) {

				var trees = [];

				console.log(w*h*woodDensity);

				while(trees.length*Math.PI*radius*radius < w*h*woodDensity ) {

					do {
						var tree = [ Math.random()*w, Math.random()*h, radius ];
						console.log(tree);
					}
					while(overlap(tree, trees));

					trees.push(tree);	


					console.log(trees.length*Math.PI*radius*radius);
				}					

				return trees;
			}


			function drawTrees(ctx, trees) {



				for(var i=0; i<trees.length; i++) {
					//ctx.moveTo(trees[i][0], trees[i][1]);
					ctx.beginPath();
					ctx.arc(trees[i][0], trees[i][1], trees[i][2], 0, 2*Math.PI);
					ctx.stroke();
				}

			}

			var forest = generateForest(0.1, 5, 400, 300);

			drawTrees(ctx, forest);	


//			ctx.beginPath();
//			ctx.arc(100, 75, 15, 0, 2 * Math.PI);
//			ctx.moveTo(0,0);
//			ctx.lineTo(10,10);
//			ctx.stroke();

		</script> 

	</body>
</html>
